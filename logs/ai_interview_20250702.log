2025-07-02 23:21:42 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:21:42 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:21:42 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmpnwbbnzxl
2025-07-02 23:21:42 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:21:42 [INFO] uvicorn.error:76: Started server process [36804]
2025-07-02 23:21:42 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:21:42 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:22:12 [INFO] uvicorn.error:264: Shutting down
2025-07-02 23:22:12 [INFO] uvicorn.error:65: Waiting for application shutdown.
2025-07-02 23:22:12 [INFO] uvicorn.error:76: Application shutdown complete.
2025-07-02 23:22:12 [INFO] uvicorn.error:86: Finished server process [36804]
2025-07-02 23:22:12 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:22:13 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:22:13 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:22:13 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmp21o4q_6w
2025-07-02 23:22:13 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:22:13 [INFO] uvicorn.error:76: Started server process [37396]
2025-07-02 23:22:13 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:22:13 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:23:20 [INFO] uvicorn.error:276: ('127.0.0.1', 56682) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:23:20 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:23:20 [INFO] uvicorn.error:642: connection open
2025-07-02 23:23:20 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:23:20 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:23:20 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:23:20 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:23:20 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:23:22 [INFO] uvicorn.error:276: ('127.0.0.1', 56691) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:23:22 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:23:22 [INFO] uvicorn.error:642: connection open
2025-07-02 23:23:22 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:23:22 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:23:22 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:23:22 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:23:22 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:23:31 [INFO] uvicorn.error:276: ('127.0.0.1', 56711) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:23:31 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:23:31 [INFO] uvicorn.error:642: connection open
2025-07-02 23:23:31 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:23:31 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:23:31 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:23:31 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:23:31 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:23:56 [INFO] uvicorn.error:276: ('127.0.0.1', 56768) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:23:56 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:23:56 [INFO] uvicorn.error:642: connection open
2025-07-02 23:23:56 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:23:56 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:23:56 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:23:56 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:23:56 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:23:57 [INFO] uvicorn.error:276: ('127.0.0.1', 56777) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:23:57 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:23:58 [INFO] uvicorn.error:642: connection open
2025-07-02 23:23:58 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:23:58 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:23:58 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:23:58 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:23:58 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:24:13 [INFO] uvicorn.error:276: ('127.0.0.1', 56811) - "WebSocket /ws/video-stream/test-session" [accepted]
2025-07-02 23:24:13 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session
2025-07-02 23:24:13 [INFO] uvicorn.error:642: connection open
2025-07-02 23:24:13 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session: connection_established
2025-07-02 23:24:13 [INFO] main:60: 新的视频流连接: session_id=test-session
2025-07-02 23:24:13 [INFO] main:81: WebSocket连接断开: session_id=test-session
2025-07-02 23:24:13 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session
2025-07-02 23:24:13 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:25:49 [INFO] uvicorn.error:264: Shutting down
2025-07-02 23:25:49 [INFO] uvicorn.error:65: Waiting for application shutdown.
2025-07-02 23:25:49 [INFO] uvicorn.error:76: Application shutdown complete.
2025-07-02 23:25:49 [INFO] uvicorn.error:86: Finished server process [37396]
2025-07-02 23:25:49 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:25:50 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:25:50 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:25:50 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmpk03gqu1r
2025-07-02 23:25:50 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:25:50 [INFO] uvicorn.error:76: Started server process [33612]
2025-07-02 23:25:50 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:25:50 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:26:19 [INFO] uvicorn.error:264: Shutting down
2025-07-02 23:26:19 [INFO] uvicorn.error:65: Waiting for application shutdown.
2025-07-02 23:26:19 [INFO] uvicorn.error:76: Application shutdown complete.
2025-07-02 23:26:19 [INFO] uvicorn.error:86: Finished server process [33612]
2025-07-02 23:26:19 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:26:22 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:26:22 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:26:22 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmpq3uzzbzz
2025-07-02 23:26:22 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:26:22 [INFO] uvicorn.error:76: Started server process [42836]
2025-07-02 23:26:22 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:26:22 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:26:33 [INFO] uvicorn.error:276: ('127.0.0.1', 57237) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:26:33 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:26:33 [INFO] uvicorn.error:642: connection open
2025-07-02 23:26:33 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:26:33 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:26:33 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751469993924}
2025-07-02 23:26:34 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:26:34 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:26:34 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:26:35 [INFO] uvicorn.error:276: ('127.0.0.1', 57247) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:26:35 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:26:35 [INFO] uvicorn.error:642: connection open
2025-07-02 23:26:35 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:26:35 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:26:35 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751469995091}
2025-07-02 23:26:35 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:26:35 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:26:35 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:27:28 [INFO] uvicorn.error:276: ('127.0.0.1', 57383) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:27:28 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:27:28 [INFO] uvicorn.error:642: connection open
2025-07-02 23:27:28 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:27:28 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:27:28 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751470048470}
2025-07-02 23:27:28 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:27:28 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:27:28 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:27:29 [INFO] uvicorn.error:276: ('127.0.0.1', 57388) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:27:29 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:27:29 [INFO] uvicorn.error:642: connection open
2025-07-02 23:27:29 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:27:29 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:27:29 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751470049575}
2025-07-02 23:27:29 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:27:29 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:27:29 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:27:30 [INFO] uvicorn.error:276: ('127.0.0.1', 57395) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:27:30 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:27:30 [INFO] uvicorn.error:642: connection open
2025-07-02 23:27:30 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:27:30 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:27:30 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751470050728}
2025-07-02 23:27:30 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:27:30 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:27:30 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:27:32 [INFO] uvicorn.error:276: ('127.0.0.1', 57402) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:27:32 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:27:32 [INFO] uvicorn.error:642: connection open
2025-07-02 23:27:32 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:27:32 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:27:32 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751470052014}
2025-07-02 23:27:32 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:27:32 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:27:32 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:28:21 [INFO] uvicorn.error:264: Shutting down
2025-07-02 23:28:21 [INFO] uvicorn.error:65: Waiting for application shutdown.
2025-07-02 23:28:21 [INFO] uvicorn.error:76: Application shutdown complete.
2025-07-02 23:28:21 [INFO] uvicorn.error:86: Finished server process [42836]
2025-07-02 23:28:21 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:28:24 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:28:24 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:28:24 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmp_zaesjlo
2025-07-02 23:28:24 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:28:24 [INFO] uvicorn.error:76: Started server process [48216]
2025-07-02 23:28:24 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:28:24 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:28:44 [INFO] uvicorn.error:276: ('127.0.0.1', 57640) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:28:44 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:28:44 [INFO] uvicorn.error:642: connection open
2025-07-02 23:28:44 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:28:44 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:28:44 [DEBUG] main:71: 接收到文本消息: {"type":"start_stream","session_id":"test-session-123","timestamp":1751470124514}
2025-07-02 23:28:44 [INFO] main:135: 客户端主动断开连接: session_id=test-session-123
2025-07-02 23:28:44 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:28:44 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:29:31 [INFO] uvicorn.error:264: Shutting down
2025-07-02 23:29:31 [INFO] uvicorn.error:65: Waiting for application shutdown.
2025-07-02 23:29:31 [INFO] uvicorn.error:76: Application shutdown complete.
2025-07-02 23:29:31 [INFO] uvicorn.error:86: Finished server process [48216]
2025-07-02 23:29:31 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:29:32 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:29:32 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:29:32 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmp4pgi6474
2025-07-02 23:29:32 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:29:32 [INFO] uvicorn.error:76: Started server process [32356]
2025-07-02 23:29:32 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:29:32 [ERROR] uvicorn.error:134: Traceback (most recent call last):
  File "D:\applications\miniconda3\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\applications\miniconda3\Lib\asyncio\base_events.py", line 653, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "D:\applications\miniconda3\Lib\site-packages\uvicorn\server.py", line 78, in serve
    await self.startup(sockets=sockets)
  File "D:\applications\miniconda3\Lib\site-packages\uvicorn\server.py", line 89, in startup
    await self.lifespan.startup()
  File "D:\applications\miniconda3\Lib\site-packages\uvicorn\lifespan\on.py", line 54, in startup
    await self.startup_event.wait()
  File "D:\applications\miniconda3\Lib\asyncio\locks.py", line 213, in wait
    await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\applications\miniconda3\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\applications\miniconda3\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\applications\miniconda3\Lib\site-packages\starlette\routing.py", line 686, in lifespan
    await receive()
  File "D:\applications\miniconda3\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\applications\miniconda3\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-07-02 23:29:32 [ERROR] services.video_processor:285: 清理视频处理器资源失败: sys.meta_path is None, Python is likely shutting down
2025-07-02 23:29:33 [INFO] utils.logger:79: 日志系统初始化完成
2025-07-02 23:29:33 [INFO] utils.logger:80: 日志文件目录: D:\work\ai_interview_backend\logs
2025-07-02 23:29:33 [INFO] services.video_processor:18: 视频处理器初始化，临时目录: C:\Users\vic123\AppData\Local\Temp\tmp4xgo91od
2025-07-02 23:29:33 [INFO] services.ai_service:23: AI服务初始化完成
2025-07-02 23:29:33 [INFO] uvicorn.error:76: Started server process [51976]
2025-07-02 23:29:33 [INFO] uvicorn.error:46: Waiting for application startup.
2025-07-02 23:29:33 [INFO] uvicorn.error:60: Application startup complete.
2025-07-02 23:30:08 [INFO] uvicorn.error:276: ('127.0.0.1', 57918) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:30:08 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:30:08 [INFO] uvicorn.error:642: connection open
2025-07-02 23:30:08 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:30:08 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:30:08 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:30:08 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:30:08 [INFO] uvicorn.error:264: connection closed
2025-07-02 23:30:12 [INFO] uvicorn.error:276: ('127.0.0.1', 57957) - "WebSocket /ws/video-stream/test-session-123" [accepted]
2025-07-02 23:30:12 [INFO] services.websocket_manager:47: WebSocket连接已建立: session_id=test-session-123
2025-07-02 23:30:12 [INFO] uvicorn.error:642: connection open
2025-07-02 23:30:12 [DEBUG] services.websocket_manager:88: 消息已发送到 test-session-123: connection_established
2025-07-02 23:30:12 [INFO] main:60: 新的视频流连接: session_id=test-session-123
2025-07-02 23:30:12 [INFO] main:81: WebSocket连接断开: session_id=test-session-123
2025-07-02 23:30:12 [INFO] services.websocket_manager:74: WebSocket连接已断开: session_id=test-session-123
2025-07-02 23:30:12 [INFO] uvicorn.error:264: connection closed
